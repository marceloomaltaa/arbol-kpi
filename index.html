
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>√Årvore de KPIs Interativa</title>
  <script src="https://unpkg.com/gojs/release/go.js"></script>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      font-family: Arial, sans-serif;
    }
    #toolbar {
      padding: 10px;
      background-color: #e2e8f0;
      text-align: right;
      border-bottom: 1px solid #cbd5e1;
    }
    #myDiagramDiv {
      width: 100%;
      height: calc(100% - 50px);
    }
    button {
      background: #3b82f6;
      color: white;
      border: none;
      padding: 6px 12px;
      margin-left: 10px;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover {
      background: #2563eb;
    }
  </style>
</head>
<body>
  <div id="toolbar">
    <button onclick="expandAll()">Expandir üåø</button>
    <button onclick="collapseAll()">Colapsar üçÇ</button>
    <button onclick="toggleTheme()">Alternar Tema üåó</button>
  </div>
  <div id="myDiagramDiv"></div>

  <script>
    var $ = go.GraphObject.make;
    var isDark = false;

    var myDiagram = $(go.Diagram, "myDiagramDiv",
      {
        initialAutoScale: go.Diagram.UniformToFill,
        layout: $(go.TreeLayout, {
          angle: 90,
          layerSpacing: 40
        }),
        "toolManager.mouseWheelBehavior": go.ToolManager.WheelZoom,
        "undoManager.isEnabled": true
      }
    );

    function nodeColor(data) {
      return data.color || (isDark ? "#334155" : "#f8fafc");
    }

    myDiagram.nodeTemplate =
      $(go.Node, "Auto",
        $(go.Shape, "RoundedRectangle",
          new go.Binding("fill", "", nodeColor),
          { strokeWidth: 0 }
        ),
        $(go.TextBlock,
          { margin: 8, font: "bold 12px sans-serif", stroke: "#111" },
          new go.Binding("text", "text"))
      );

    myDiagram.linkTemplate =
      $(go.Link,
        $(go.Shape),
        $(go.Shape, { toArrow: "Standard" })
      );

    var nodeDataArray = [{"key": "n0", "text": "DOR", "color": "#dbeafe"}, {"key": "n1", "text": "MODERNO", "color": "#e0f2fe"}, {"key": "n2", "text": "Sell In Diario", "color": "#f8fafc"}, {"key": "n3", "text": "TSP", "color": "#e0f2fe"}, {"key": "n4", "text": "Efectividad de visita (%GPS >2min)", "color": "#f8fafc"}, {"key": "n5", "text": "% Tareas Efectivas y Tareas Completadas", "color": "#f8fafc"}, {"key": "n6", "text": "Efectividad de Venta", "color": "#f8fafc"}, {"key": "n7", "text": "Drop por vendedor", "color": "#f8fafc"}, {"key": "n8", "text": "Clientes compra", "color": "#f8fafc"}, {"key": "n9", "text": "Surtido prioritario", "color": "#f8fafc"}, {"key": "n10", "text": "DSD", "color": "#e0f2fe"}, {"key": "n11", "text": "Sell In Diario", "color": "#f8fafc"}, {"key": "n12", "text": "Clientes Compra", "color": "#f8fafc"}, {"key": "n13", "text": "Innovaciones", "color": "#f8fafc"}, {"key": "n14", "text": "Efectividad de Visita", "color": "#f8fafc"}, {"key": "n11", "text": "Sell In Diario", "color": "#f8fafc"}, {"key": "n15", "text": "Surtido prioritario", "color": "#f8fafc"}, {"key": "n16", "text": "\u00c9lite", "color": "#e0f2fe"}, {"key": "n17", "text": "Efectividad de visita (%GPS >2min)", "color": "#f8fafc"}, {"key": "n18", "text": "% Tareas Efectivas y Tareas Completadas.", "color": "#f8fafc"}, {"key": "n19", "text": "Efectividad de Venta", "color": "#f8fafc"}, {"key": "n20", "text": "Drop por vendedor", "color": "#f8fafc"}, {"key": "n21", "text": "Clientes compra", "color": "#f8fafc"}, {"key": "n22", "text": "Surtido prioritario", "color": "#f8fafc"}, {"key": "n23", "text": "SSRR & MAY", "color": "#e0f2fe"}, {"key": "n24", "text": "Sell In Diario", "color": "#f8fafc"}, {"key": "n25", "text": "Clientes no compra", "color": "#f8fafc"}, {"key": "n26", "text": "Efectividad de venta por categor\u00eda", "color": "#f8fafc"}, {"key": "n27", "text": "WOR", "color": "#dbeafe"}, {"key": "n28", "text": "MODERNO", "color": "#e0f2fe"}, {"key": "n29", "text": "Sell Out", "color": "#f8fafc"}, {"key": "n30", "text": "Sell In", "color": "#f8fafc"}, {"key": "n31", "text": "Disponibilidad", "color": "#f8fafc"}, {"key": "n32", "text": "Surtido prioritario", "color": "#f8fafc"}, {"key": "n33", "text": "Codificaciones", "color": "#f8fafc"}, {"key": "n34", "text": "Alcances", "color": "#f8fafc"}, {"key": "n35", "text": "SOS", "color": "#f8fafc"}, {"key": "n36", "text": "Planogramas", "color": "#f8fafc"}, {"key": "n37", "text": "Extravisibilidad", "color": "#f8fafc"}, {"key": "n38", "text": "Competencia", "color": "#f8fafc"}, {"key": "n39", "text": "Data Impacto", "color": "#f8fafc"}, {"key": "n40", "text": "TSP", "color": "#e0f2fe"}, {"key": "n41", "text": "Sell In", "color": "#f8fafc"}, {"key": "n42", "text": "Sell Out", "color": "#f8fafc"}, {"key": "n43", "text": "Adopci\u00f3n digital", "color": "#f8fafc"}, {"key": "n44", "text": "Efectividad de tareas y visitas", "color": "#f8fafc"}, {"key": "n45", "text": "Innovaciones, lanzamientos y promociones", "color": "#f8fafc"}, {"key": "n46", "text": "Cobertura", "color": "#f8fafc"}, {"key": "n47", "text": "FEX", "color": "#f8fafc"}, {"key": "n48", "text": "Clientes no compra", "color": "#f8fafc"}, {"key": "n49", "text": "Cartera", "color": "#f8fafc"}, {"key": "n50", "text": "% Devoluciones", "color": "#f8fafc"}, {"key": "n51", "text": "% Fill Rate", "color": "#f8fafc"}, {"key": "n52", "text": "Rotaci\u00f3n de personas, ausentismo y vacaciones", "color": "#f8fafc"}, {"key": "n53", "text": "DSD", "color": "#e0f2fe"}, {"key": "n54", "text": "Sell Out", "color": "#f8fafc"}, {"key": "n55", "text": "Clientes Compra", "color": "#f8fafc"}, {"key": "n56", "text": "Surtido prioritario", "color": "#f8fafc"}, {"key": "n57", "text": "Cartera", "color": "#f8fafc"}, {"key": "n58", "text": "FEX", "color": "#f8fafc"}, {"key": "n59", "text": "Efectividad de visita", "color": "#f8fafc"}, {"key": "n60", "text": "\u00c9lite", "color": "#e0f2fe"}, {"key": "n61", "text": "Sell In", "color": "#f8fafc"}, {"key": "n62", "text": "Sell Out", "color": "#f8fafc"}, {"key": "n63", "text": "Adaptaci\u00f3n digital", "color": "#f8fafc"}, {"key": "n64", "text": "Efectividad de tareas y visitas", "color": "#f8fafc"}, {"key": "n65", "text": "Innovaciones y promociones", "color": "#f8fafc"}, {"key": "n66", "text": "Cobertura", "color": "#f8fafc"}, {"key": "n67", "text": "FEX", "color": "#f8fafc"}, {"key": "n68", "text": "Clientes no compra", "color": "#f8fafc"}, {"key": "n69", "text": "Surtido prioritario", "color": "#f8fafc"}, {"key": "n70", "text": "SSRR & MAY", "color": "#e0f2fe"}, {"key": "n71", "text": "Sell In", "color": "#f8fafc"}, {"key": "n72", "text": "Surtido prioritario", "color": "#f8fafc"}, {"key": "n73", "text": "Efectividad de visita BEES", "color": "#f8fafc"}, {"key": "n74", "text": "Alcances, innovaciones y lanzamientos", "color": "#f8fafc"}, {"key": "n75", "text": "Cartera", "color": "#f8fafc"}, {"key": "n76", "text": "Avance de promociones", "color": "#f8fafc"}, {"key": "n77", "text": "Rechazos y devoluciones", "color": "#f8fafc"}, {"key": "n78", "text": "COMMERCIAL EXCELLENCE", "color": "#e0f2fe"}, {"key": "n79", "text": "Innovaciones", "color": "#f8fafc"}, {"key": "n80", "text": "Lanzamientos", "color": "#f8fafc"}, {"key": "n81", "text": "OSA", "color": "#f8fafc"}, {"key": "n82", "text": "Actividades Promocionales", "color": "#f8fafc"}, {"key": "n83", "text": "CDT", "color": "#e0f2fe"}, {"key": "n84", "text": "Innovaciones", "color": "#f8fafc"}, {"key": "n85", "text": "Lanzamientos", "color": "#f8fafc"}, {"key": "n86", "text": "Promociones", "color": "#f8fafc"}, {"key": "n87", "text": "CCC", "color": "#e0f2fe"}, {"key": "n88", "text": "KPIs de servicio", "color": "#f8fafc"}, {"key": "n89", "text": "Proyectos", "color": "#f8fafc"}, {"key": "n90", "text": "SRM", "color": "#e0f2fe"}, {"key": "n91", "text": "Proyectos", "color": "#f8fafc"}, {"key": "n92", "text": "Precios AAA SKUs", "color": "#f8fafc"}, {"key": "n93", "text": "DPC", "color": "#e0f2fe"}, {"key": "n94", "text": "Digitalizaci\u00f3n", "color": "#f8fafc"}, {"key": "n95", "text": "Proyectos", "color": "#f8fafc"}, {"key": "n96", "text": "MOR", "color": "#dbeafe"}, {"key": "n97", "text": "MODERNO", "color": "#e0f2fe"}, {"key": "n98", "text": "Sell Out", "color": "#f8fafc"}, {"key": "n99", "text": "Sell In", "color": "#f8fafc"}, {"key": "n100", "text": "Market Share", "color": "#f8fafc"}, {"key": "n101", "text": "DOH", "color": "#f8fafc"}, {"key": "n102", "text": "e-commerce", "color": "#f8fafc"}, {"key": "n103", "text": "TSP", "color": "#e0f2fe"}, {"key": "n104", "text": "Sell In", "color": "#f8fafc"}, {"key": "n105", "text": "Sell Out", "color": "#f8fafc"}, {"key": "n106", "text": "Adopci\u00f3n Digital", "color": "#f8fafc"}, {"key": "n107", "text": "Palancas Comerciales", "color": "#f8fafc"}, {"key": "n108", "text": "FEX", "color": "#f8fafc"}, {"key": "n109", "text": "Clients NO compra", "color": "#f8fafc"}, {"key": "n110", "text": "Maestra Clientes y # Vendedores", "color": "#f8fafc"}, {"key": "n111", "text": "Fill Rate", "color": "#f8fafc"}, {"key": "n112", "text": "DOH", "color": "#f8fafc"}, {"key": "n113", "text": "Cartera", "color": "#f8fafc"}, {"key": "n114", "text": "Surtido prioritario", "color": "#f8fafc"}, {"key": "n115", "text": "DSD", "color": "#e0f2fe"}, {"key": "n116", "text": "Sell In", "color": "#f8fafc"}, {"key": "n117", "text": "Clientes Compra", "color": "#f8fafc"}, {"key": "n118", "text": "FEX", "color": "#f8fafc"}, {"key": "n119", "text": "Drop Factura", "color": "#f8fafc"}, {"key": "n120", "text": "\u00c9lite", "color": "#e0f2fe"}, {"key": "n121", "text": "Sell In", "color": "#f8fafc"}, {"key": "n122", "text": "Sell Out", "color": "#f8fafc"}, {"key": "n123", "text": "Adaptaci\u00f3n Digital", "color": "#f8fafc"}, {"key": "n124", "text": "Palancas Comerciales", "color": "#f8fafc"}, {"key": "n125", "text": "FEX", "color": "#f8fafc"}, {"key": "n126", "text": "Clientes no compra", "color": "#f8fafc"}, {"key": "n127", "text": "RTM (Maestra Clientes, # Vendedores)", "color": "#f8fafc"}, {"key": "n128", "text": "Tiempo de emisi\u00f3n de N/C rechazo", "color": "#f8fafc"}, {"key": "n129", "text": "Tiempo de emisi\u00f3n N/C devoluciones", "color": "#f8fafc"}, {"key": "n130", "text": "Surtido prioritario", "color": "#f8fafc"}, {"key": "n131", "text": "SSRR & MAY", "color": "#e0f2fe"}, {"key": "n132", "text": "Sell In", "color": "#f8fafc"}, {"key": "n133", "text": "Sell Out", "color": "#f8fafc"}, {"key": "n134", "text": "DOH", "color": "#f8fafc"}, {"key": "n135", "text": "Clientes compra", "color": "#f8fafc"}, {"key": "n136", "text": "Catera", "color": "#f8fafc"}, {"key": "n137", "text": "FEX", "color": "#f8fafc"}, {"key": "n138", "text": "COMMERCIAL EXCELLENCE", "color": "#e0f2fe"}, {"key": "n139", "text": "Innovaciones", "color": "#f8fafc"}, {"key": "n140", "text": "Lanzamientos", "color": "#f8fafc"}, {"key": "n141", "text": "SOS", "color": "#f8fafc"}, {"key": "n142", "text": "OSA", "color": "#f8fafc"}, {"key": "n143", "text": "FEX", "color": "#f8fafc"}, {"key": "n144", "text": "CCC", "color": "#e0f2fe"}, {"key": "n145", "text": "Proyectos", "color": "#f8fafc"}, {"key": "n146", "text": "SRM", "color": "#e0f2fe"}, {"key": "n147", "text": "NNS / KG", "color": "#f8fafc"}, {"key": "n148", "text": "An\u00e1lisis de Inversi\u00f3n", "color": "#f8fafc"}, {"key": "n149", "text": "DPC", "color": "#e0f2fe"}, {"key": "n150", "text": "Digitalizaci\u00f3n", "color": "#f8fafc"}];
    var linkDataArray = [{"from": "n0", "to": "n1"}, {"from": "n1", "to": "n2"}, {"from": "n0", "to": "n3"}, {"from": "n3", "to": "n4"}, {"from": "n3", "to": "n5"}, {"from": "n3", "to": "n6"}, {"from": "n3", "to": "n7"}, {"from": "n3", "to": "n8"}, {"from": "n3", "to": "n9"}, {"from": "n0", "to": "n10"}, {"from": "n10", "to": "n11"}, {"from": "n10", "to": "n12"}, {"from": "n10", "to": "n13"}, {"from": "n10", "to": "n14"}, {"from": "n10", "to": "n11"}, {"from": "n10", "to": "n15"}, {"from": "n0", "to": "n16"}, {"from": "n16", "to": "n17"}, {"from": "n16", "to": "n18"}, {"from": "n16", "to": "n19"}, {"from": "n16", "to": "n20"}, {"from": "n16", "to": "n21"}, {"from": "n16", "to": "n22"}, {"from": "n0", "to": "n23"}, {"from": "n23", "to": "n24"}, {"from": "n23", "to": "n25"}, {"from": "n23", "to": "n26"}, {"from": "n27", "to": "n28"}, {"from": "n28", "to": "n29"}, {"from": "n28", "to": "n30"}, {"from": "n28", "to": "n31"}, {"from": "n28", "to": "n32"}, {"from": "n28", "to": "n33"}, {"from": "n28", "to": "n34"}, {"from": "n28", "to": "n35"}, {"from": "n28", "to": "n36"}, {"from": "n28", "to": "n37"}, {"from": "n28", "to": "n38"}, {"from": "n28", "to": "n39"}, {"from": "n27", "to": "n40"}, {"from": "n40", "to": "n41"}, {"from": "n40", "to": "n42"}, {"from": "n40", "to": "n43"}, {"from": "n40", "to": "n44"}, {"from": "n40", "to": "n45"}, {"from": "n40", "to": "n46"}, {"from": "n40", "to": "n47"}, {"from": "n40", "to": "n48"}, {"from": "n40", "to": "n49"}, {"from": "n40", "to": "n50"}, {"from": "n40", "to": "n51"}, {"from": "n40", "to": "n52"}, {"from": "n27", "to": "n53"}, {"from": "n53", "to": "n54"}, {"from": "n53", "to": "n55"}, {"from": "n53", "to": "n56"}, {"from": "n53", "to": "n57"}, {"from": "n53", "to": "n58"}, {"from": "n53", "to": "n59"}, {"from": "n27", "to": "n60"}, {"from": "n60", "to": "n61"}, {"from": "n60", "to": "n62"}, {"from": "n60", "to": "n63"}, {"from": "n60", "to": "n64"}, {"from": "n60", "to": "n65"}, {"from": "n60", "to": "n66"}, {"from": "n60", "to": "n67"}, {"from": "n60", "to": "n68"}, {"from": "n60", "to": "n69"}, {"from": "n27", "to": "n70"}, {"from": "n70", "to": "n71"}, {"from": "n70", "to": "n72"}, {"from": "n70", "to": "n73"}, {"from": "n70", "to": "n74"}, {"from": "n70", "to": "n75"}, {"from": "n70", "to": "n76"}, {"from": "n70", "to": "n77"}, {"from": "n27", "to": "n78"}, {"from": "n78", "to": "n79"}, {"from": "n78", "to": "n80"}, {"from": "n78", "to": "n81"}, {"from": "n78", "to": "n82"}, {"from": "n27", "to": "n83"}, {"from": "n83", "to": "n84"}, {"from": "n83", "to": "n85"}, {"from": "n83", "to": "n86"}, {"from": "n27", "to": "n87"}, {"from": "n87", "to": "n88"}, {"from": "n87", "to": "n89"}, {"from": "n27", "to": "n90"}, {"from": "n90", "to": "n91"}, {"from": "n90", "to": "n92"}, {"from": "n27", "to": "n93"}, {"from": "n93", "to": "n94"}, {"from": "n93", "to": "n95"}, {"from": "n96", "to": "n97"}, {"from": "n97", "to": "n98"}, {"from": "n97", "to": "n99"}, {"from": "n97", "to": "n100"}, {"from": "n97", "to": "n101"}, {"from": "n97", "to": "n102"}, {"from": "n96", "to": "n103"}, {"from": "n103", "to": "n104"}, {"from": "n103", "to": "n105"}, {"from": "n103", "to": "n106"}, {"from": "n103", "to": "n107"}, {"from": "n103", "to": "n108"}, {"from": "n103", "to": "n109"}, {"from": "n103", "to": "n110"}, {"from": "n103", "to": "n111"}, {"from": "n103", "to": "n112"}, {"from": "n103", "to": "n113"}, {"from": "n103", "to": "n114"}, {"from": "n96", "to": "n115"}, {"from": "n115", "to": "n116"}, {"from": "n115", "to": "n117"}, {"from": "n115", "to": "n118"}, {"from": "n115", "to": "n119"}, {"from": "n96", "to": "n120"}, {"from": "n120", "to": "n121"}, {"from": "n120", "to": "n122"}, {"from": "n120", "to": "n123"}, {"from": "n120", "to": "n124"}, {"from": "n120", "to": "n125"}, {"from": "n120", "to": "n126"}, {"from": "n120", "to": "n127"}, {"from": "n120", "to": "n128"}, {"from": "n120", "to": "n129"}, {"from": "n120", "to": "n130"}, {"from": "n96", "to": "n131"}, {"from": "n131", "to": "n132"}, {"from": "n131", "to": "n133"}, {"from": "n131", "to": "n134"}, {"from": "n131", "to": "n135"}, {"from": "n131", "to": "n136"}, {"from": "n131", "to": "n137"}, {"from": "n96", "to": "n138"}, {"from": "n138", "to": "n139"}, {"from": "n138", "to": "n140"}, {"from": "n138", "to": "n141"}, {"from": "n138", "to": "n142"}, {"from": "n138", "to": "n143"}, {"from": "n96", "to": "n144"}, {"from": "n144", "to": "n145"}, {"from": "n96", "to": "n146"}, {"from": "n146", "to": "n147"}, {"from": "n146", "to": "n148"}, {"from": "n96", "to": "n149"}, {"from": "n149", "to": "n150"}];

    myDiagram.model = new go.GraphLinksModel(nodeDataArray, linkDataArray);

    function expandAll() {
      myDiagram.commandHandler.expandTree(myDiagram.findTreeRoots().first(), 100);
    }

    function collapseAll() {
      myDiagram.commandHandler.collapseTree(myDiagram.findTreeRoots().first());
    }

    function toggleTheme() {
      isDark = !isDark;
      document.body.style.backgroundColor = isDark ? "#1e293b" : "#ffffff";
      document.getElementById("toolbar").style.backgroundColor = isDark ? "#334155" : "#e2e8f0";
      document.getElementById("toolbar").style.color = isDark ? "#f1f5f9" : "#1e293b";
      myDiagram.startTransaction("theme");
      myDiagram.nodes.each(function(node) {
        node.updateTargetBindings();
      });
      myDiagram.commitTransaction("theme");
    }
  </script>
</body>
</html>
